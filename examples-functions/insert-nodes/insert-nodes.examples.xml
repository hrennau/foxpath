<?xml version="1.0" encoding="UTF-8"?>
<function-usage function="name-diff">
    <testenviron> In order to try out the examples, start a command shell and move to folder
        $FOXPATH/examples-functions/insert-nodes. </testenviron>
    <examples>
        <example>
            <description> 
                Insert into the root element a 'count' attribute containing the number of airports. 
            </description>
            <code> 
                fox "airports/airports.xml/insert-nodes('\airports', 'count(airport)', '@count')" 
            </code>
        </example>
        <example>
            <description>
                Augment each 'geo' element with a further child element 'coordinates', containing the latitude and longitude
                rounded to 3 fractional digits.
            </description>
            <code>
                fox "airports/airports.xml/insert-nodes('\\geo', 'round(latitude, 3)||""""/""""||round(longitude, 3)', 'coordinates')/pretty-node()"                
            </code>
        </example>
        <example>
            <description>
                As the preceding example, but insert new elements as first child of their parent. 
            </description>
            <code>
                fox "airports/airports.xml/insert-nodes('\\geo', 'round(latitude, 3)||""""/""""||round(longitude, 3)', 'coordinates', 'first')/pretty-node()"                
            </code>
        </example>
        <example>
            <description>
                Insert after every 'temporal' element an element 'temporal' containing copies of the child nodes of 'temporal', excepting 'dst'.
            </description>
            <code>
                fox "airports/airports.xml/insert-nodes('\\temporal', '* except dst', 'temporal2', 'after')/pretty-node()"                
            </code>
        </example>
        <example>
            <description>
                Chaining two insertions.
            </description>
            <code>
                fox "airports/airports.xml/insert-nodes('\\temporal', '* except dst', 'temporal2', 'after')/insert-nodes('\airports', 'count(airport)', '@count')/pretty-node()"                
            </code>
        </example>
        <example>
            <description>
                Processing a set of documents, chaining two insertions.
            </description>
            <code>
                fox "(airports/*.xml => insert-nodes-ec('\\temporal', '* except dst', 'temporal2', 'after') => insert-nodes-ec('\airports', 'count(airport)', '@count'))/pretty-node()"                
            </code>
        </example>
    </examples>
</function-usage>
